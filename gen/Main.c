/* 
  This file was generated by KaRaMeL <https://github.com/FStarLang/karamel>
  KaRaMeL invocation: /nix/store/q2m63sxmsdxc4kpxq23vsm1hj2fil7lc-karamel-359d56cdaf0465679abbe35fc48d2cef0657e52c-home/krml out.krml -skip-linking -skip-compilation
  F* version: <unknown>
  KaRaMeL version: <unknown>
 */

#include "Main.h"

void Main_push__int32_t(Main_cell__int32_t **pl, int32_t x)
{
  Main_cell__int32_t *l = *pl;
  Main_cell__int32_t c = { .next = l, .data = x };
  Main_cell__int32_t *pc = KRML_HOST_MALLOC(sizeof (Main_cell__int32_t));
  pc[0U] = c;
  *pl = pc;
}

int32_t Main_pop__int32_t(Main_cell__int32_t **pl)
{
  Main_cell__int32_t *l = *pl;
  Main_cell__int32_t lcell = *l;
  *pl = lcell.next;
  return lcell.data;
}

uint32_t Main_length__int32_t(Main_cell__int32_t *l)
{
  if (l == NULL)
    return (uint32_t)0U;
  else
  {
    Main_cell__int32_t c = *l;
    Main_cell__int32_t *next = c.next;
    uint32_t n = Main_length__int32_t(next);
    if (n == (uint32_t)0xffffffffU)
    {
      C_String_print("Integer overflow while computing length");
      exit((int32_t)255);
      return (uint32_t)0U;
    }
    else
      return n + (uint32_t)1U;
  }
}

int32_t Main_main(void)
{
  Main_cell__int32_t **l = KRML_HOST_MALLOC(sizeof (Main_cell__int32_t *));
  l[0U] = NULL;
  Main_push__int32_t(l, (int32_t)1);
  Main_push__int32_t(l, (int32_t)0);
  int32_t r = Main_pop__int32_t(l);
  TestLib_checku32(Main_length__int32_t(*l), (uint32_t)1U);
  return r;
}

